<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let createNode = value => {return {data:value,next:null} }
        let createList = value=> createNode(value)
        let appendNode = (list,value)=>{
            let x=list 
            while(x.next){
                x=x.next
            }
            let node=createNode(value)
            x.next=node
            return node
        }
        let deletenode=(list,node)=>{
            
            //自己的版本
            // let x =list
            // let p = node
            // while(x && x!==node)
            // {
            //     p=x
            //     x=x.next
            // }
            // p.next=x.next

            //老师的版本
            let x = list;
            let p = node; // 课堂里将 p 初始化为 null，这里改为 node
            while (x !== node && x !== null) { // 课堂里忘了对 null 进行处理，如果 node 不在 list 中，x 就可能为 null
                p = x;
                x = x.next;
            }
            if(x === null){ // 若 x 为 null，则不需要删除，直接 return， false 表示无法删除不在list里的节点
                return false
            }else if(x === p){ // 这说明要删除的节点是第一个节点
                p = x.next
                return p // 如果删除的是第一个节点，那么就要把新 list 的头节点 p 返回给外面，即 newList = removeFromList(list, list)
            }else{
                p.next = x.next;
                return list // 如果删除的不是第一个节点，返回原来的 list 即可
            }    
        }


        let list = createList(10)
        // console.log(list);
         let node1 = appendNode(list,20)
        // let node2 = appendNode(list,30)
        // let node3 = appendNode(list,40)
        // console.log(list);
        var newlist = deletenode(list,node1)
        console.log(newlist);
    </script>
</body>
</html>